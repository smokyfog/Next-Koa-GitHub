{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useState, useReducer, useEffect, useLayoutEffect, useContext, useRef, memo, useMemo, useCallback } from 'react';\n\nfunction countReducer(state, action) {\n  switch (action.type) {\n    case 'add':\n      return state + 1;\n\n    case 'minus':\n      return state - 1;\n\n    default:\n      return state;\n  }\n}\n\nfunction MyCountFunc() {\n  var _useReducer = useReducer(countReducer, 0),\n      count = _useReducer[0],\n      dispatchCount = _useReducer[1];\n\n  var _useState = useState('jock'),\n      name = _useState[0],\n      setName = _useState[1];\n\n  var config = useMemo(function () {\n    return {\n      text: \"count is \".concat(count),\n      color: count > 3 ? 'red' : 'blue'\n    };\n  }, [count]);\n  var handleButtonClick = useCallback(function () {\n    return dispatchCount({\n      type: 'add'\n    });\n  }, []); //这里我们也可以用useMemo来记忆方法,实际上useCallback就是useMemo的简化\n  // const handleButtonClick = useMemo(\n  //   () => () => dispatchCount({ type: 'add' }),\n  //   []\n  // )\n\n  var handleAlertClick = function handleAlertClick() {\n    setTimeout(function () {\n      alert(count);\n    }, 2000);\n  };\n\n  return __jsx(\"div\", null, __jsx(\"input\", {\n    value: name,\n    onChange: function onChange(e) {\n      return setName(e.target.value);\n    }\n  }), __jsx(Child, {\n    config: config,\n    onButtonClick: handleButtonClick\n  }), __jsx(\"button\", {\n    onClick: handleAlertClick\n  }, \"AlertCount\"));\n}\n\nvar Child = memo(function Child(_ref) {\n  var onButtonClick = _ref.onButtonClick,\n      config = _ref.config;\n  console.log('child render');\n  return __jsx(\"button\", {\n    onClick: onButtonClick,\n    style: {\n      color: config.color\n    }\n  }, config.text);\n});\nexport default MyCountFunc;","map":{"version":3,"sources":["D:\\study\\Next-Koa-GitHub\\next-github\\pages\\test\\b.js"],"names":["React","useState","useReducer","useEffect","useLayoutEffect","useContext","useRef","memo","useMemo","useCallback","countReducer","state","action","type","MyCountFunc","count","dispatchCount","name","setName","config","text","color","handleButtonClick","handleAlertClick","setTimeout","alert","e","target","value","Child","onButtonClick","console","log"],"mappings":";AAAA,OACEA,KADF,IAGIC,QAHJ,EAIIC,UAJJ,EAKIC,SALJ,EAMIC,eANJ,EAOIC,UAPJ,EAQIC,MARJ,EASIC,IATJ,EAUIC,OAVJ,EAWIC,WAXJ,QAYS,OAZT;;AAcA,SAASC,YAAT,CAAsBC,KAAtB,EAA6BC,MAA7B,EAAqC;AACnC,UAAQA,MAAM,CAACC,IAAf;AACE,SAAK,KAAL;AACE,aAAOF,KAAK,GAAG,CAAf;;AACF,SAAK,OAAL;AACE,aAAOA,KAAK,GAAG,CAAf;;AACF;AACE,aAAOA,KAAP;AANJ;AAQD;;AAED,SAASG,WAAT,GAAuB;AAAA,oBACYZ,UAAU,CAACQ,YAAD,EAAe,CAAf,CADtB;AAAA,MACbK,KADa;AAAA,MACNC,aADM;;AAAA,kBAEKf,QAAQ,CAAC,MAAD,CAFb;AAAA,MAEbgB,IAFa;AAAA,MAEPC,OAFO;;AAIrB,MAAMC,MAAM,GAAGX,OAAO,CACpB;AAAA,WAAO;AACLY,MAAAA,IAAI,qBAAeL,KAAf,CADC;AAELM,MAAAA,KAAK,EAAEN,KAAK,GAAG,CAAR,GAAY,KAAZ,GAAoB;AAFtB,KAAP;AAAA,GADoB,EAKnB,CAACA,KAAD,CALmB,CAAtB;AAOA,MAAMO,iBAAiB,GAAGb,WAAW,CACnC;AAAA,WAAOO,aAAa,CAAC;AAAEH,MAAAA,IAAI,EAAE;AAAR,KAAD,CAApB;AAAA,GADmC,EAEnC,EAFmC,CAArC,CAXqB,CAgBrB;AACA;AACA;AACA;AACA;;AACA,MAAMU,gBAAgB,GAAG,SAAnBA,gBAAmB,GAAY;AACnCC,IAAAA,UAAU,CAAC,YAAM;AACfC,MAAAA,KAAK,CAACV,KAAD,CAAL;AACD,KAFS,EAEP,IAFO,CAAV;AAGD,GAJD;;AAMA,SACE,mBACE;AAAO,IAAA,KAAK,EAAGE,IAAf;AAAsB,IAAA,QAAQ,EAAE,kBAACS,CAAD;AAAA,aAAOR,OAAO,CAACQ,CAAC,CAACC,MAAF,CAASC,KAAV,CAAd;AAAA;AAAhC,IADF,EAEE,MAAC,KAAD;AACE,IAAA,MAAM,EAAET,MADV;AAEE,IAAA,aAAa,EAAEG;AAFjB,IAFF,EAME;AAAS,IAAA,OAAO,EAAIC;AAApB,kBANF,CADF;AAUD;;AAED,IAAMM,KAAK,GAAGtB,IAAI,CAAC,SAASsB,KAAT,OAA0C;AAAA,MAAzBC,aAAyB,QAAzBA,aAAyB;AAAA,MAAVX,MAAU,QAAVA,MAAU;AAC1DY,EAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ;AACA,SACE;AAAQ,IAAA,OAAO,EAAGF,aAAlB;AAAkC,IAAA,KAAK,EAAE;AAACT,MAAAA,KAAK,EAAEF,MAAM,CAACE;AAAf;AAAzC,KACGF,MAAM,CAACC,IADV,CADF;AAKF,CAPiB,CAAlB;AASA,eAAeN,WAAf","sourcesContent":["import \r\n  React, \r\n  { \r\n    useState, \r\n    useReducer, \r\n    useEffect, \r\n    useLayoutEffect,\r\n    useContext, \r\n    useRef,\r\n    memo,\r\n    useMemo,\r\n    useCallback\r\n  } from 'react'\r\n\r\nfunction countReducer(state, action) {\r\n  switch (action.type) {\r\n    case 'add':\r\n      return state + 1\r\n    case 'minus':\r\n      return state - 1\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nfunction MyCountFunc() {\r\n  const [ count, dispatchCount ] = useReducer(countReducer, 0)\r\n  const [ name, setName ] = useState('jock')\r\n\r\n  const config = useMemo(\r\n    () => ({\r\n      text:  `count is ${count}`,\r\n      color: count > 3 ? 'red' : 'blue',\r\n    }\r\n  ), [count])\r\n\r\n  const handleButtonClick = useCallback(\r\n    () =>  dispatchCount({ type: 'add' }), \r\n    []\r\n  )\r\n\r\n  //这里我们也可以用useMemo来记忆方法,实际上useCallback就是useMemo的简化\r\n  // const handleButtonClick = useMemo(\r\n  //   () => () => dispatchCount({ type: 'add' }),\r\n  //   []\r\n  // )\r\n  const handleAlertClick = function () {\r\n    setTimeout(() => {\r\n      alert(count)\r\n    }, 2000)\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <input value={ name } onChange={(e) => setName(e.target.value)} />\r\n      <Child\r\n        config={config}\r\n        onButtonClick={handleButtonClick}\r\n      />\r\n      <button  onClick ={ handleAlertClick }>AlertCount</button>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst Child = memo(function Child({ onButtonClick, config }) {\r\n   console.log('child render')\r\n   return (\r\n     <button onClick={ onButtonClick } style={{color: config.color}}>\r\n       {config.text}\r\n     </button>\r\n   )\r\n}) \r\n\r\nexport default MyCountFunc"]},"metadata":{},"sourceType":"module"}